$date
	Wed Oct 01 15:39:05 2025
$end
$version
	ModelSim Version 2020.1
$end
$timescale
	1ns
$end

$scope module tb_QSPI_Master $end
$var parameter 32 ! DATA_WIDTH $end
$var parameter 32 " CLK_PERIOD $end
$var reg 1 # sys_clk $end
$var reg 1 $ nrst $end
$var reg 2 % sel_mode [1:0] $end
$var reg 1 & operation $end
$var reg 1 ' trigger_transmission $end
$var reg 8 ( wr_data [7:0] $end
$var reg 8 ) rd_data [7:0] $end
$var reg 1 * chip_select $end
$var reg 1 + sclk $end
$var tri 1 , IO [3] $end
$var tri 1 - IO [2] $end
$var tri 1 . IO [1] $end
$var tri 1 / IO [0] $end
$var reg 4 0 IO_drv [3:0] $end
$var reg 4 1 IO_drive_en [3:0] $end
$var reg 8 2 slave_shift [7:0] $end

$scope begin mode_loop $end
$upscope $end

$scope module dut $end
$var parameter 32 3 DATA_WIDTH $end
$var parameter 32 4 CPOL $end
$var parameter 32 5 CPHA $end
$var parameter 32 6 CLOCK_DIVIDER $end
$var parameter 32 7 ADDR_WIDTH $end
$var parameter 32 8 DUMMY_CYCLES $end
$var wire 1 9 sys_clk $end
$var wire 1 : nrst $end
$var wire 1 ; sel_mode [1] $end
$var wire 1 < sel_mode [0] $end
$var wire 1 = operation $end
$var wire 1 > trigger_transmission $end
$var wire 1 ? wr_data [7] $end
$var wire 1 @ wr_data [6] $end
$var wire 1 A wr_data [5] $end
$var wire 1 B wr_data [4] $end
$var wire 1 C wr_data [3] $end
$var wire 1 D wr_data [2] $end
$var wire 1 E wr_data [1] $end
$var wire 1 F wr_data [0] $end
$var reg 8 G rd_data [7:0] $end
$var reg 1 H chip_select $end
$var reg 1 I sclk $end
$var wire 1 , IO [3] $end
$var wire 1 - IO [2] $end
$var wire 1 . IO [1] $end
$var wire 1 / IO [0] $end
$var integer 32 J clk_count $end
$var integer 32 K transmit_count $end
$var reg 1 L divided_clk $end
$var reg 2 M current_state [1:0] $end
$var reg 1 N transaction_done $end
$var reg 4 O enable_io [3:0] $end
$var reg 4 P io_int [3:0] $end
$var reg 8 Q data_buffer [7:0] $end
$upscope $end
$upscope $end
$enddefinitions $end
#0
$dumpvars
0#
0$
b0 %
0&
0'
b0 (
bx )
1*
0+
b0 0
b0 1
bx G
1H
0I
0L
b0 M
1N
b0 O
b0 P
b0 Q
b0 2
b1000 !
b1010 "
b1000 3
b0 4
b0 5
b1 6
b11000 7
b1010 8
b0 J
b111 K
z/
z.
z-
z,
09
0:
0<
0;
0=
0>
0F
0E
0D
0C
0B
0A
0@
0?
$end
#5
1#
19
#10
0#
09
#15
1#
19
#20
0#
09
#25
1#
19
#30
0#
09
#35
1#
19
#40
0#
09
#45
1#
19
#50
1$
1&
b10100101 (
1'
0#
1=
1F
1D
1A
1?
1>
1:
09
#55
1#
19
1L
0H
0N
b10100101 Q
b1 M
0*
1I
1+
#60
0#
09
#65
1#
19
0L
0I
0+
b1 O
b1 P
1/
#70
0#
09
#75
1#
19
1L
1I
1+
b110 K
#80
0#
09
#85
1#
19
0L
0I
0+
b0 P
0/
#90
0#
09
#95
1#
19
1L
1I
1+
b101 K
#100
0#
09
#105
1#
19
0L
0I
0+
b1 P
1/
#110
0#
09
#115
1#
19
1L
1I
1+
b100 K
#120
0#
09
#125
1#
19
0L
0I
0+
b0 P
0/
#130
0#
09
#135
1#
19
1L
1I
1+
b11 K
#140
0#
09
#145
1#
19
0L
0I
0+
#150
0#
09
#155
1#
19
1L
1I
1+
b10 K
#160
0#
09
#165
1#
19
0L
0I
0+
b1 P
1/
#170
0#
09
#175
1#
19
1L
1I
1+
b1 K
#180
0#
09
#185
1#
19
0L
0I
0+
b0 P
0/
#190
0#
09
#195
1#
19
1L
1I
1+
b0 K
#200
0#
09
#205
1#
19
0L
0I
0+
b1 P
1/
#210
0#
09
#215
1#
19
1L
1I
1+
b111 K
1H
b10 M
1*
0I
0+
0'
0>
#220
0#
09
#225
1#
19
0L
#230
0#
09
#235
1#
19
1L
1N
b0 Q
b0 M
#240
0#
09
#245
1#
19
0L
#250
0#
09
#255
1#
19
1L
#260
0#
09
#265
0&
b10 1
b111100 2
1'
1#
0.
0=
1>
19
0L
#270
0#
09
#275
1#
19
1L
0H
0N
b1 M
0*
1I
1+
b10 O
z/
#280
0#
09
#285
1#
19
0L
0I
0+
b1111000 2
#290
0#
09
#295
1#
19
1L
1I
1+
b110 K
#300
0#
09
#305
1#
19
0L
0I
0+
b11110000 2
#310
0#
09
#315
1#
19
1L
1I
1+
b101 K
#320
0#
09
#325
1#
19
0L
0I
0+
b10 0
b11100000 2
x.
#330
0#
09
#335
1#
19
1L
1I
1+
b0x00000 Q
b100 K
#340
0#
09
#345
1#
19
0L
0I
0+
b11000000 2
#350
0#
09
#355
1#
19
1L
1I
1+
b0xx0000 Q
b11 K
#360
0#
09
#365
1#
19
0L
0I
0+
b10000000 2
#370
0#
09
#375
1#
19
1L
1I
1+
b0xxx000 Q
b10 K
#380
0#
09
#385
1#
19
0L
0I
0+
b0 2
#390
0#
09
#395
1#
19
1L
1I
1+
b0xxxx00 Q
b1 K
#400
0#
09
#405
1#
19
0L
0I
0+
b0 0
0.
#410
0#
09
#415
1#
19
1L
1I
1+
b0 K
#420
0#
09
#425
1#
19
0L
0I
0+
#430
0#
09
#435
1#
19
1L
1I
1+
b111 K
1H
b10 M
1*
0I
0+
0'
b0 1
0>
#440
0#
09
#445
1#
19
0L
#450
0#
09
#455
1#
19
1L
b0xxxx00 G
1N
b0 Q
b0 M
b0xxxx00 )
#460
0#
09
#465
1#
19
0L
#470
0#
09
#475
1#
19
1L
#480
0#
09
#485
b1 %
1&
1'
1#
1<
1=
1>
19
0L
#490
0#
09
#495
1#
19
1L
0H
0N
b10100101 Q
b1 M
0*
1I
1+
#500
0#
09
#505
1#
19
0L
0I
0+
b11 O
1/
#510
0#
09
#515
1#
19
1L
1I
1+
b101 K
#520
0#
09
#525
1#
19
0L
0I
0+
#530
0#
09
#535
1#
19
1L
1I
1+
b11 K
#540
0#
09
#545
1#
19
0L
0I
0+
b0 P
b10 P
1.
0/
#550
0#
09
#555
1#
19
1L
1I
1+
b1 K
#560
0#
09
#565
1#
19
0L
0I
0+
#570
0#
09
#575
1#
19
1L
1I
1+
b111 K
1H
b10 M
1*
0I
0+
0'
0>
b11 P
b1 P
0.
1/
#580
0#
09
#585
1#
19
0L
#590
0#
09
#595
1#
19
1L
1N
b0 Q
b0 M
#600
0#
09
#605
1#
19
0L
#610
0#
09
#615
1#
19
1L
#620
0#
09
#625
0&
b11 1
b1011010 2
1'
1#
x/
0=
1>
19
0L
#630
0#
09
#635
1#
19
1L
0H
0N
b1 M
0*
1I
1+
b0 O
bx0000000 Q
0/
#640
0#
09
#645
1#
19
0L
0I
0+
b10 0
b1101000 2
1.
#650
0#
09
#655
1#
19
1L
1I
1+
b0 Q
b1000000 Q
b101 K
#660
0#
09
#665
1#
19
0L
0I
0+
b10100000 2
#670
0#
09
#675
1#
19
1L
1I
1+
b1010000 Q
b11 K
#680
0#
09
#685
1#
19
0L
0I
0+
b11 0
b1 0
b10000000 2
0.
1/
#690
0#
09
#695
1#
19
1L
1I
1+
b1011000 Q
b1 K
#700
0#
09
#705
1#
19
0L
0I
0+
b0 2
#710
0#
09
#715
1#
19
1L
1I
1+
b1011010 Q
b111 K
1H
b10 M
1*
0I
0+
0'
b0 1
z.
z/
0>
#720
0#
09
#725
1#
19
0L
#730
0#
09
#735
1#
19
1L
b1011010 G
1N
b0 Q
b0 M
b1011010 )
#740
0#
09
#745
1#
19
0L
#750
0#
09
#755
1#
19
1L
#760
0#
09
#765
b10 %
1&
1'
1#
0<
1;
1=
1>
19
0L
#770
0#
09
#775
1#
19
1L
0H
0N
b10100101 Q
b1 M
0*
1I
1+
#780
0#
09
#785
1#
19
0L
0I
0+
b1111 O
b101 P
0,
1-
0.
1/
#790
0#
09
#795
1#
19
1L
1I
1+
b11 K
#800
0#
09
#805
1#
19
0L
0I
0+
b100 P
b110 P
b10 P
b1010 P
1,
0-
1.
0/
#810
0#
09
#815
1#
19
1L
1I
1+
b111 K
1H
b10 M
1*
0I
0+
0'
0>
b1011 P
b1001 P
b1101 P
b101 P
0,
1-
0.
1/
#820
0#
09
#825
1#
19
0L
#830
0#
09
#835
1#
19
1L
1N
b0 Q
b0 M
#840
0#
09
#845
1#
19
0L
#850
0#
09
#855
1#
19
1L
#860
0#
09
#865
0&
b1111 1
b11000011 2
1'
1#
x-
0=
1>
19
0L
#870
0#
09
#875
1#
19
1L
0H
0N
b1 M
0*
1I
1+
b0 O
b10000000 Q
b10x00000 Q
0-
#880
0#
09
#885
1#
19
0L
0I
0+
b11 0
b110000 2
1.
#890
0#
09
#895
1#
19
1L
1I
1+
b11x00000 Q
b11000000 Q
b11 K
#900
0#
09
#905
1#
19
0L
0I
0+
b10 0
b0 0
b100 0
b1100 0
b0 2
1,
1-
0.
0/
#910
0#
09
#915
1#
19
1L
1I
1+
b11000010 Q
b11000011 Q
b111 K
1H
b10 M
1*
0I
0+
0'
b0 1
z,
z-
z.
z/
0>
#920
0#
09
#925
1#
19
0L
#930
0#
09
#935
1#
19
1L
b11000011 G
1N
b0 Q
b0 M
b11000011 )
#940
0#
09
#945
1#
19
0L
#950
0#
09
#955
1#
19
1L
#960
0#
09
#965
b11 %
